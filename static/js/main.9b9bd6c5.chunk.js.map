{"version":3,"sources":["redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/phonebook/phonebook-actions.js","components/AppBar/AppBar.module.css","redux/auth/auth-reducer.js","components/UserMenu/UserMenu.module.css","components/AuthNav/AuthNav.module.css","redux/auth/auth-actions.js","components/UserMenu/avatar.png","components/UserMenu/UserMenu.jsx","components/AuthNav/AuthNav.jsx","components/AppBar/AppBar.jsx","index.module.css","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/phonebook/phonebook-reducer.js","redux/store.js","index.js"],"names":["axios","defaults","baseURL","token","headers","common","Authorization","register","userData","dispatch","a","authActions","registerRequest","post","response","data","registerSuccess","registerError","message","login","loginRequest","loginSuccess","logoutError","logOut","logoutRequest","logoutSuccess","getCurrentUser","getState","persistedToken","auth","getCurrentUserRequest","get","getCurrentUserSuccess","getCurrentUserError","getUserIn","state","isAuthenticated","getUserName","user","name","fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","makeCardRequest","makeCardSuccess","makeCardError","deleteCardRequest","deleteCardSuccess","deleteCardError","filterValue","module","exports","InitialUserState","email","createReducer","_","payload","error","loginError","combineReducers","mapDispatchToProps","onLogout","authOperations","connect","authSelectors","avatar","defaultAvatar","className","styles","container","src","alt","width","type","onClick","AuthNav","to","exact","link","AppBar","menu","Component","component","redirectTo","routeProps","render","props","restricted","HomeView","lazy","LoginView","PhonebookView","RegisterView","App","this","onGetCurrentUser","fallback","path","actions","contactsReducer","filter","id","loading","filterReducer","rootReducer","contacts","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","phonebook","persistReducer","authReducer","devTools","process","persistor","persistStore","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9b9bd6c5.chunk.js","sourcesContent":["import axios from 'axios';\nimport authActions from './auth-actions';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nconst register = userData => async dispatch => {\n  dispatch(authActions.registerRequest());\n  try {\n    const response = await axios.post('/users/signup', userData);\n    token.set(response.data.token);\n    dispatch(authActions.registerSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.registerError(error.message));\n  }\n};\n\nconst login = userData => async dispatch => {\n  dispatch(authActions.loginRequest());\n  try {\n    const response = await axios.post('/users/login', userData);\n    token.set(response.data.token);\n    dispatch(authActions.loginSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.logoutError(error.message));\n  }\n};\n\nconst logOut = () => async dispatch => {\n  dispatch(authActions.logoutRequest());\n  try {\n    await axios.post('/users/logout');\n    token.unset();\n    dispatch(authActions.logoutSuccess());\n  } catch (error) {\n    dispatch(authActions.logoutError(error.message));\n  }\n};\n\nconst getCurrentUser = () => async (dispatch, getState) => {\n  // console.log(getState);\n\n  const {\n    auth: { token: persistedToken },\n  } = getState();\n\n  if (!persistedToken) {\n    return;\n  }\n  token.set(persistedToken);\n  dispatch(authActions.getCurrentUserRequest());\n  try {\n    const response = await axios.get('/users/current');\n\n    dispatch(authActions.getCurrentUserSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.getCurrentUserError(error.message));\n  }\n};\n\nexport default {\n  register,\n  login,\n  logOut,\n  getCurrentUser,\n};\n","const getUserName = state => state.auth.user.name;\nconst getUserIn = state => state.auth.isAuthenticated;\nexport default { getUserIn, getUserName };\n","import { createAction } from '@reduxjs/toolkit';\n\nconst fetchContactsRequest = createAction('contacts/fetchContactsRequest');\nconst fetchContactsSuccess = createAction('contacts/fetchContactsSuccess');\nconst fetchContactsError = createAction('contacts/fetchContactsError');\n\nconst makeCardRequest = createAction('contacts/makeCardRequest');\nconst makeCardSuccess = createAction('contacts/makeCardSuccess');\nconst makeCardError = createAction('contacts/makeCardError');\n\nconst deleteCardRequest = createAction('contacts/deleteCardRequest');\nconst deleteCardSuccess = createAction('contacts/deleteCardSuccess');\nconst deleteCardError = createAction('contacts/deleteCardError');\n\nconst filterValue = createAction('contacts/filter');\n\nexport default {\n  makeCardRequest,\n  makeCardSuccess,\n  makeCardError,\n  deleteCardRequest,\n  deleteCardError,\n  deleteCardSuccess,\n  filterValue,\n\n  fetchContactsRequest,\n  fetchContactsSuccess,\n  fetchContactsError,\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AppBar_link__3DGFJ\",\"menu\":\"AppBar_menu__2zon3\",\"AppBar\":\"AppBar_AppBar__10456\"};","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport authActions from './auth-actions';\n\nconst InitialUserState = { name: null, email: null };\n\nconst user = createReducer(InitialUserState, {\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\n  [authActions.logoutSuccess]: () => InitialUserState,\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\n});\n\nconst token = createReducer(InitialUserState, {\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\n  [authActions.logoutSuccess]: () => null,\n});\n\nconst error = createReducer(InitialUserState, {\n  [authActions.registerError]: (_, { payload }) => payload,\n  [authActions.loginError]: (_, { payload }) => payload,\n  [authActions.logoutError]: (_, { payload }) => payload,\n  [authActions.getCurrentUserError]: (_, { payload }) => payload,\n});\n\nconst isAuthenticated = createReducer(false, {\n  [authActions.registerSuccess]: () => true,\n  [authActions.loginSuccess]: () => true,\n  [authActions.getCurrentUserSuccess]: () => true,\n  [authActions.registerError]: () => false,\n  [authActions.loginError]: () => false,\n  [authActions.getCurrentUserError]: () => false,\n  [authActions.logoutSuccess]: () => false,\n});\nexport default combineReducers({\n  user,\n  token,\n  error,\n  isAuthenticated,\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__1bijv\",\"avatar\":\"UserMenu_avatar__1hXa6\",\"name\":\"UserMenu_name__1BykE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__4q3Kw\"};","import { createAction } from '@reduxjs/toolkit';\n\nconst registerRequest = createAction('auth/registerRequest');\nconst registerSuccess = createAction('auth/registerSuccess');\nconst registerError = createAction('auth/registerError');\n\nconst loginRequest = createAction('auth/loginRequest');\nconst loginSuccess = createAction('auth/loginSuccess');\nconst loginError = createAction('auth/loginError');\n\nconst logoutRequest = createAction('auth/logoutRequest');\nconst logoutSuccess = createAction('auth/logoutSuccess');\nconst logoutError = createAction('auth/logoutError');\n\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\n\nexport default {\n  registerRequest,\n  registerSuccess,\n  registerError,\n  logoutRequest,\n  logoutSuccess,\n  logoutError,\n  loginRequest,\n  loginSuccess,\n  loginError,\n  getCurrentUserRequest,\n  getCurrentUserSuccess,\n  getCurrentUserError,\n};\n","export default __webpack_public_path__ + \"static/media/avatar.664bc0bf.png\";","import React from 'react';\nimport { connect } from 'react-redux';\nimport { authSelectors, authOperations } from '../../redux/auth';\nimport defaultAvatar from './avatar.png';\nimport styles from './UserMenu.module.css';\n\nconst UserMenu = ({ avatar, name, onLogout }) => (\n  <div className={styles.container}>\n    <img src={avatar} alt=\"\" width=\"32\" className={styles.avatar} />\n    <span className={styles.name}>Welcome, {name}</span>\n    <button type=\"button\" onClick={onLogout}>\n      Logout\n    </button>\n  </div>\n);\nconst mapStateToProps = state => ({\n  name: authSelectors.getUserName(state),\n  avatar: defaultAvatar,\n});\n\nconst mapDispatchToProps = {\n  onLogout: authOperations.logOut,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport styles from './AuthNav.module.css';\n\nconst AuthNav = () => (\n  <div>\n    <NavLink to=\"/register\" exact className={styles.link}>\n      Регистрация\n    </NavLink>\n    <NavLink to=\"/login\" exact className={styles.link}>\n      Логин\n    </NavLink>\n  </div>\n);\n\nexport default AuthNav;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport styles from './AppBar.module.css';\n\nimport { authSelectors } from '../../redux/auth';\nimport UserMenu from '../UserMenu';\nimport AuthNav from '../AuthNav';\n\nconst AppBar = ({ getUserIn }) => {\n  return (\n    <div className={styles.AppBar}>\n      <div className={styles.menu}>\n        <NavLink to=\"/\" exact className={styles.link}>\n          Main\n        </NavLink>\n        {getUserIn && (\n          <NavLink to=\"/contacts\" exact className={styles.link}>\n            Phonebook\n          </NavLink>\n        )}\n      </div>\n      <div>{getUserIn ? <UserMenu /> : <AuthNav />}</div>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  getUserIn: authSelectors.getUserIn(state),\n});\n\nexport default connect(mapStateToProps)(AppBar);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"src_section__nxvbv\",\"title\":\"src_title__1CQxg\"};","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { authSelectors } from '../redux/auth';\n\n/**\n * - Если маршрут приватный и пользователь залогинен, рендерит компонент\n * - В противном случае рендерит Redirect на /login\n */\nconst PrivateRoute = ({\n  component: Component,\n  isAuthenticated,\n  redirectTo,\n  ...routeProps\n}) => (\n  <Route\n    {...routeProps}\n    render={props =>\n      isAuthenticated ? <Component {...props} /> : <Redirect to={redirectTo} />\n    }\n  />\n);\n\nconst mapStateToProps = state => ({\n  isAuthenticated: authSelectors.getUserIn(state),\n});\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { authSelectors } from '../redux/auth';\n\n/**\n * - Если маршрут ограниченный, и пользователь залогинен, рендерит редирект на /todos\n * - В противном случае рендерит компонент\n */\nconst PublicRoute = ({\n  component: Component,\n  isAuthenticated,\n  redirectTo,\n  ...routeProps\n}) => (\n  <Route\n    {...routeProps}\n    render={props =>\n      isAuthenticated && routeProps.restricted ? (\n        <Redirect to={redirectTo} />\n      ) : (\n        <Component {...props} />\n      )\n    }\n  />\n);\n\nconst mapStateToProps = state => ({\n  isAuthenticated: authSelectors.getUserIn(state),\n});\n\nexport default connect(mapStateToProps)(PublicRoute);\n","import React, { Component, Suspense, lazy } from 'react';\nimport { connect } from 'react-redux';\n\nimport AppBar from './components/AppBar';\nimport styles from './index.module.css';\nimport { Switch, Router, Route } from 'react-router-dom';\n\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\nimport { authOperations } from './redux/auth';\n\nconst HomeView = lazy(() =>\n  import('./views/HomeView.jsx' /* webpackChunkName: \"home-view\" */),\n);\nconst LoginView = lazy(() =>\n  import('./views/LoginView.jsx' /* webpackChunkName: \"login-view\" */),\n);\nconst PhonebookView = lazy(() =>\n  import('./views/PhonebookView.jsx' /* webpackChunkName: \"phonebook-view\" */),\n);\nconst RegisterView = lazy(() =>\n  import('./views/RegisterView' /* webpackChunkName: \"register-view\" */),\n);\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.onGetCurrentUser();\n  }\n  render() {\n    return (\n      <>\n        <AppBar />\n        <Suspense fallback={<h1>Loading...</h1>}>\n          <Switch>\n            <Route exact path=\"/\" component={HomeView} />\n            <PublicRoute\n              path=\"/register\"\n              restricted\n              component={RegisterView}\n              redirectTo=\"/contacts\"\n            />\n            <PublicRoute\n              path=\"/login\"\n              restricted\n              component={LoginView}\n              redirectTo=\"/contacts\"\n            />\n            <PrivateRoute\n              path=\"/contacts\"\n              component={PhonebookView}\n              redirectTo=\"/login\"\n            />\n          </Switch>\n        </Suspense>\n      </>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  onGetCurrentUser: authOperations.getCurrentUser,\n};\n\nexport default connect(null, mapDispatchToProps)(App);\n","import { combineReducers } from 'redux';\n\nimport { createReducer } from '@reduxjs/toolkit';\nimport actions from './phonebook-actions';\nconst {\n  makeCardRequest,\n  makeCardSuccess,\n  makeCardError,\n  deleteCardRequest,\n  deleteCardError,\n  deleteCardSuccess,\n  filterValue,\n\n  fetchContactsRequest,\n  fetchContactsSuccess,\n  fetchContactsError,\n} = actions;\n\nconst contactsReducer = createReducer([], {\n  [fetchContactsSuccess]: (_, { payload }) => payload,\n\n  [makeCardSuccess]: (state, { payload }) => [...state, payload],\n  [deleteCardSuccess]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n});\n\nconst loading = createReducer(false, {\n  [fetchContactsRequest]: () => true,\n  [fetchContactsSuccess]: () => false,\n  [fetchContactsError]: () => false,\n  [makeCardRequest]: () => true,\n  [makeCardSuccess]: () => false,\n  [makeCardError]: () => false,\n  [deleteCardRequest]: () => true,\n  [deleteCardSuccess]: () => false,\n  [deleteCardError]: () => false,\n});\n\nconst filterReducer = createReducer('', {\n  [filterValue]: (_, { payload }) => payload,\n});\n\nconst error = createReducer(null, {\n  [makeCardError]: (_, { payload }) => payload,\n  [deleteCardError]: (_, { payload }) => payload,\n  [fetchContactsError]: (_, { payload }) => payload,\n});\n\nconst rootReducer = combineReducers({\n  contacts: contactsReducer,\n  filter: filterReducer,\n  loading,\n  error,\n});\n\nexport default rootReducer;\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport logger from 'redux-logger';\nimport storage from 'redux-persist/lib/storage';\nimport contactsReducer from './phonebook/phonebook-reducer';\nimport authReducer from './auth/auth-reducer';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  // logger,\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nconst store = configureStore({\n  reducer: {\n    phonebook: contactsReducer,\n    auth: persistReducer(authPersistConfig, authReducer),\n  },\n  devTools: process.env.NODE_ENV === 'development',\n  middleware,\n});\n\nconst persistor = persistStore(store);\n\nexport default { store, persistor };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport store from './redux/store';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}